{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\Crud-Operation-master\\\\frontend\\\\src\\\\components\\\\PatientList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getpatient, addpatient, editpatient, deletepatient } from '../services/ApiService';\nimport AddPatient from './AddPatient';\nimport EditPatient from './EditPatient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PatientList() {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [showAddPatientForm, setShowAddPatientForm] = useState(false);\n  const [showEditPatientForm, setShowEditPatientForm] = useState(false);\n  const [selectedEditData, setSelectedEditData] = useState();\n\n  // useEffect(() => {\n  //     let mount = true\n  //     getpatient()\n  //     .then(res => {console.log(\"res from api\", res)\n  //         setPatients(res)\n  //         return() => mount = false\n  //     })\n  // }, [])\n\n  const handleAddSubmit = e => {\n    addpatient(e.target).then(res => {\n      setPatients(res);\n    });\n  };\n  const handleEditBtn = patient => {\n    setSelectedEditData(patient);\n    console.log(\"patient selected is\", patient);\n    setShowEditPatientForm(true);\n    setShowAddPatientForm(false);\n  };\n  const handleEditSubmit = (e, id) => {\n    editpatient(id, e.target).then(res => {\n      setPatients(res);\n    });\n  };\n  function handleCancelBtn() {\n    setShowAddPatientForm(false);\n  }\n  const handleDeleteBtn = id => {\n    deletepatient(id).then(res => {\n      setPatients(patients.filter(p => p.patient_id !== id));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"PATIENT LIST\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"2px\",\n      cellPadding: \"10px\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Blood Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: patients.map(patient => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.first_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.last_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.blood\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditBtn(patient),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteBtn(patient.patient_id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 80\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, patient.patient_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 24\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddPatientForm(true),\n      children: \"Add New Patient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this), showAddPatientForm && /*#__PURE__*/_jsxDEV(AddPatient, {\n      handleAddSubmit: handleAddSubmit,\n      handleCancelBtn: handleCancelBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 28\n    }, this), showEditPatientForm && /*#__PURE__*/_jsxDEV(EditPatient, {\n      handleEditSubmit: handleEditSubmit,\n      selectedEditData: selectedEditData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true);\n}\n_s(PatientList, \"I7G5c0qW9CUYlDklhju5xKQGGio=\");\n_c = PatientList;\nvar _c;\n$RefreshReg$(_c, \"PatientList\");","map":{"version":3,"names":["React","useEffect","useState","getpatient","addpatient","editpatient","deletepatient","AddPatient","EditPatient","PatientList","patients","setPatients","showAddPatientForm","setShowAddPatientForm","showEditPatientForm","setShowEditPatientForm","selectedEditData","setSelectedEditData","handleAddSubmit","e","target","then","res","handleEditBtn","patient","console","log","handleEditSubmit","id","handleCancelBtn","handleDeleteBtn","filter","p","patient_id","map","first_name","last_name","blood"],"sources":["D:/Downloads/Crud-Operation-master/frontend/src/components/PatientList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { getpatient, addpatient, editpatient , deletepatient} from '../services/ApiService'\nimport AddPatient from './AddPatient'\nimport EditPatient from './EditPatient'\n\nexport default function PatientList() {\n\nconst [patients, setPatients] = useState([])\nconst [showAddPatientForm, setShowAddPatientForm] = useState(false)\nconst [showEditPatientForm, setShowEditPatientForm] = useState(false)\nconst [selectedEditData, setSelectedEditData] = useState()\n\n// useEffect(() => {\n//     let mount = true\n//     getpatient()\n//     .then(res => {console.log(\"res from api\", res)\n//         setPatients(res)\n//         return() => mount = false\n//     })\n// }, [])\n\nconst handleAddSubmit = (e) => {\n    addpatient(e.target)\n    .then(res => {\n        setPatients(res)\n    })\n}\n\nconst handleEditBtn = (patient) => {\n    setSelectedEditData(patient)\n    console.log(\"patient selected is\", patient)\n    setShowEditPatientForm(true)\n    setShowAddPatientForm(false)\n}\n\nconst handleEditSubmit = (e, id) => {\n    editpatient(id, e.target)\n    .then(res => {\n        setPatients(res)\n    })\n}\nfunction handleCancelBtn() {\n    setShowAddPatientForm(false)\n}\nconst handleDeleteBtn = (id) => {\n    deletepatient(id)\n    .then(res => {\n        setPatients(patients.filter(p=> p.patient_id !== id))\n    })\n}\n\n  return (\n    <>\n    <h3>PATIENT LIST</h3>\n    <table border={\"2px\"} cellPadding={\"10px\"}>\n        <thead>\n            <tr>\n                <td>First Name</td>\n                <td>Last Name</td>\n                <td>Blood Group</td>\n                <td>Action</td>\n            </tr>\n        </thead>\n        <tbody>\n            {patients.map(patient => {\n                return <tr key={patient.patient_id}>\n                <td>{patient.first_name}</td>\n                <td>{patient.last_name}</td>\n                <td>{patient.blood}</td>\n                <td><button onClick={()=>handleEditBtn(patient)}>Edit</button> <button onClick={()=>handleDeleteBtn(patient.patient_id)}>Delete</button></td>\n            </tr>\n            })}\n            \n        </tbody>\n    </table>\n    <button onClick={()=>setShowAddPatientForm(true)}>Add New Patient</button>\n    {showAddPatientForm && <AddPatient handleAddSubmit={handleAddSubmit} handleCancelBtn = {handleCancelBtn}/>}\n    {showEditPatientForm && <EditPatient handleEditSubmit={handleEditSubmit} selectedEditData = {selectedEditData}/>}\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}