{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\Crud-Operation-master\\\\frontend\\\\src\\\\components\\\\PatientList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getpatient, addpatient, editpatient, deletepatient } from '../services/ApiService';\nimport AddPatient from './AddPatient';\nimport EditPatient from './EditPatient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PatientList() {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [showAddPatientForm, setShowAddPatientForm] = useState(false);\n  const [showEditPatientForm, setShowEditPatientForm] = useState(false);\n  const [selectedEditData, setSelectedEditData] = useState();\n\n  // useEffect(() => {\n  //     let mount = true\n  //     getpatient()\n  //     .then(res => {console.log(\"res from api\", res)\n  //         setPatients(res)\n  //         return() => mount = false\n  //     })\n  // }, [])\n\n  useEffect(() => {\n    let mount = true;\n    getpatient().then(res => {\n      console.log(\"res from api\", res);\n      if (mount) {\n        setPatients(res);\n      }\n    }).catch(error => console.error(\"Error fetching patient data:\", error));\n    return () => {\n      mount = false;\n    };\n  }, []);\n  const handleAddSubmit = e => {\n    addpatient(e.target).then(res => {\n      setPatients(res);\n    });\n  };\n  const handleEditBtn = patient => {\n    setSelectedEditData(patient);\n    console.log(\"patient selected is\", patient);\n    setShowEditPatientForm(true);\n    setShowAddPatientForm(false);\n  };\n  const handleEditSubmit = (e, id) => {\n    editpatient(id, e.target).then(res => {\n      setPatients(res);\n    });\n  };\n  function handleCancelBtn() {\n    setShowAddPatientForm(false);\n  }\n  const handleDeleteBtn = id => {\n    deletepatient(id).then(res => {\n      setPatients(patients.filter(p => p.patient_id !== id));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"PATIENT LIST\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"2px\",\n      cellPadding: \"10px\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Blood Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: patients.map(patient => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.first_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.last_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.blood\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditBtn(patient),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteBtn(patient.patient_id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 80\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)]\n          }, patient.patient_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 24\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddPatientForm(true),\n      children: \"Add New Patient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this), showAddPatientForm && /*#__PURE__*/_jsxDEV(AddPatient, {\n      handleAddSubmit: handleAddSubmit,\n      handleCancelBtn: handleCancelBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 28\n    }, this), showEditPatientForm && /*#__PURE__*/_jsxDEV(EditPatient, {\n      handleEditSubmit: handleEditSubmit,\n      selectedEditData: selectedEditData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true);\n}\n_s(PatientList, \"FCCNn4ebvff9N8vp7hACoML785g=\");\n_c = PatientList;\nvar _c;\n$RefreshReg$(_c, \"PatientList\");","map":{"version":3,"names":["React","useEffect","useState","getpatient","addpatient","editpatient","deletepatient","AddPatient","EditPatient","PatientList","patients","setPatients","showAddPatientForm","setShowAddPatientForm","showEditPatientForm","setShowEditPatientForm","selectedEditData","setSelectedEditData","mount","then","res","console","log","catch","error","handleAddSubmit","e","target","handleEditBtn","patient","handleEditSubmit","id","handleCancelBtn","handleDeleteBtn","filter","p","patient_id","map","first_name","last_name","blood"],"sources":["D:/Downloads/Crud-Operation-master/frontend/src/components/PatientList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { getpatient, addpatient, editpatient , deletepatient} from '../services/ApiService'\nimport AddPatient from './AddPatient'\nimport EditPatient from './EditPatient'\n\nexport default function PatientList() {\n\nconst [patients, setPatients] = useState([])\nconst [showAddPatientForm, setShowAddPatientForm] = useState(false)\nconst [showEditPatientForm, setShowEditPatientForm] = useState(false)\nconst [selectedEditData, setSelectedEditData] = useState()\n\n// useEffect(() => {\n//     let mount = true\n//     getpatient()\n//     .then(res => {console.log(\"res from api\", res)\n//         setPatients(res)\n//         return() => mount = false\n//     })\n// }, [])\n\nuseEffect(() => {\n    let mount = true;\n    \n    getpatient()\n    .then(res => {\n        console.log(\"res from api\", res);\n        if (mount) {\n            setPatients(res);\n        }\n    })\n    .catch(error => console.error(\"Error fetching patient data:\", error));\n    \n    return () => {\n        mount = false;\n    };\n}, []);\n\n\nconst handleAddSubmit = (e) => {\n    addpatient(e.target)\n    .then(res => {\n        setPatients(res)\n    })\n}\n\nconst handleEditBtn = (patient) => {\n    setSelectedEditData(patient)\n    console.log(\"patient selected is\", patient)\n    setShowEditPatientForm(true)\n    setShowAddPatientForm(false)\n}\n\nconst handleEditSubmit = (e, id) => {\n    editpatient(id, e.target)\n    .then(res => {\n        setPatients(res)\n    })\n}\nfunction handleCancelBtn() {\n    setShowAddPatientForm(false)\n}\nconst handleDeleteBtn = (id) => {\n    deletepatient(id)\n    .then(res => {\n        setPatients(patients.filter(p=> p.patient_id !== id))\n    })\n}\n\n  return (\n    <>\n    <h3>PATIENT LIST</h3>\n    <table border={\"2px\"} cellPadding={\"10px\"}>\n        <thead>\n            <tr>\n                <td>First Name</td>\n                <td>Last Name</td>\n                <td>Blood Group</td>\n                <td>Action</td>\n            </tr>\n        </thead>\n        <tbody>\n            {patients.map(patient => {\n                return <tr key={patient.patient_id}>\n                <td>{patient.first_name}</td>\n                <td>{patient.last_name}</td>\n                <td>{patient.blood}</td>\n                <td><button onClick={()=>handleEditBtn(patient)}>Edit</button> <button onClick={()=>handleDeleteBtn(patient.patient_id)}>Delete</button></td>\n            </tr>\n            })}\n            \n        </tbody>\n    </table>\n    <button onClick={()=>setShowAddPatientForm(true)}>Add New Patient</button>\n    {showAddPatientForm && <AddPatient handleAddSubmit={handleAddSubmit} handleCancelBtn = {handleCancelBtn}/>}\n    {showEditPatientForm && <EditPatient handleEditSubmit={handleEditSubmit} selectedEditData = {selectedEditData}/>}\n    </>\n  )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,UAAU,EAAEC,UAAU,EAAEC,WAAW,EAAGC,aAAa,QAAO,wBAAwB;AAC3F,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,WAAW,MAAM,eAAe;AAAA;AAAA;AAEvC,eAAe,SAASC,WAAW,GAAG;EAAA;EAEtC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACY,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAACc,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGf,QAAQ,EAAE;;EAE1D;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEAD,SAAS,CAAC,MAAM;IACZ,IAAIiB,KAAK,GAAG,IAAI;IAEhBf,UAAU,EAAE,CACXgB,IAAI,CAACC,GAAG,IAAI;MACTC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,GAAG,CAAC;MAChC,IAAIF,KAAK,EAAE;QACPP,WAAW,CAACS,GAAG,CAAC;MACpB;IACJ,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,IAAIH,OAAO,CAACG,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC,CAAC;IAErE,OAAO,MAAM;MACTN,KAAK,GAAG,KAAK;IACjB,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAGN,MAAMO,eAAe,GAAIC,CAAC,IAAK;IAC3BtB,UAAU,CAACsB,CAAC,CAACC,MAAM,CAAC,CACnBR,IAAI,CAACC,GAAG,IAAI;MACTT,WAAW,CAACS,GAAG,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EAED,MAAMQ,aAAa,GAAIC,OAAO,IAAK;IAC/BZ,mBAAmB,CAACY,OAAO,CAAC;IAC5BR,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEO,OAAO,CAAC;IAC3Cd,sBAAsB,CAAC,IAAI,CAAC;IAC5BF,qBAAqB,CAAC,KAAK,CAAC;EAChC,CAAC;EAED,MAAMiB,gBAAgB,GAAG,CAACJ,CAAC,EAAEK,EAAE,KAAK;IAChC1B,WAAW,CAAC0B,EAAE,EAAEL,CAAC,CAACC,MAAM,CAAC,CACxBR,IAAI,CAACC,GAAG,IAAI;MACTT,WAAW,CAACS,GAAG,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EACD,SAASY,eAAe,GAAG;IACvBnB,qBAAqB,CAAC,KAAK,CAAC;EAChC;EACA,MAAMoB,eAAe,GAAIF,EAAE,IAAK;IAC5BzB,aAAa,CAACyB,EAAE,CAAC,CAChBZ,IAAI,CAACC,GAAG,IAAI;MACTT,WAAW,CAACD,QAAQ,CAACwB,MAAM,CAACC,CAAC,IAAGA,CAAC,CAACC,UAAU,KAAKL,EAAE,CAAC,CAAC;IACzD,CAAC,CAAC;EACN,CAAC;EAEC,oBACE;IAAA,wBACA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAqB,eACrB;MAAO,MAAM,EAAE,KAAM;MAAC,WAAW,EAAE,MAAO;MAAA,wBACtC;QAAA,uBACI;UAAA,wBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAmB,eACnB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAkB,eAClB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAoB,eACpB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAe;QAAA;UAAA;UAAA;UAAA;QAAA;MACd;QAAA;QAAA;QAAA;MAAA,QACD,eACR;QAAA,UACKrB,QAAQ,CAAC2B,GAAG,CAACR,OAAO,IAAI;UACrB,oBAAO;YAAA,wBACP;cAAA,UAAKA,OAAO,CAACS;YAAU;cAAA;cAAA;cAAA;YAAA,QAAM,eAC7B;cAAA,UAAKT,OAAO,CAACU;YAAS;cAAA;cAAA;cAAA;YAAA,QAAM,eAC5B;cAAA,UAAKV,OAAO,CAACW;YAAK;cAAA;cAAA;cAAA;YAAA,QAAM,eACxB;cAAA,wBAAI;gBAAQ,OAAO,EAAE,MAAIZ,aAAa,CAACC,OAAO,CAAE;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAc,oBAAC;gBAAQ,OAAO,EAAE,MAAII,eAAe,CAACJ,OAAO,CAACO,UAAU,CAAE;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAgB;YAAA;cAAA;cAAA;cAAA;YAAA,QAAK;UAAA,GAJ7HP,OAAO,CAACO,UAAU;YAAA;YAAA;YAAA;UAAA,QAKjC;QACL,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAEE;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ,eACR;MAAQ,OAAO,EAAE,MAAIvB,qBAAqB,CAAC,IAAI,CAAE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAyB,EACzED,kBAAkB,iBAAI,QAAC,UAAU;MAAC,eAAe,EAAEa,eAAgB;MAAC,eAAe,EAAIO;IAAgB;MAAA;MAAA;MAAA;IAAA,QAAE,EACzGlB,mBAAmB,iBAAI,QAAC,WAAW;MAAC,gBAAgB,EAAEgB,gBAAiB;MAAC,gBAAgB,EAAId;IAAiB;MAAA;MAAA;MAAA;IAAA,QAAE;EAAA,gBAC7G;AAEP;AAAC,GA7FuBP,WAAW;AAAA,KAAXA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}